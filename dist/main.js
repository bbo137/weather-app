(()=>{"use strict";function e(e){for(;e.firstChild;)e.removeChild(e.firstChild)}console.log("hi");!function(){const t=document.getElementById("myForm"),n=document.getElementById("content");t.addEventListener("submit",(t=>{e(n);const c=document.querySelector(".location").value,i=document.createElement("img");i.src="../resources/my-loader.svg",i.classList.add("loading"),n.appendChild(i),console.log(c);const d=async function(t){try{const e=await fetch(`https://api.weatherapi.com/v1/current.json?key=a06bf523144a4ec7b8970917232305&q=${t}`,{mode:"cors"});return function(e){const t=e.current.condition.text,n=e.current.feelslike_c,{humidity:c}=e.current,i=e.current.precip_mm,d=e.current.pressure_mb,o=e.current.temp_c,r=e.current.uv,s=e.current.vis_km,a=e.current.wind_degree,l=e.current.wind_dir,m=e.current.wind_kph,u=e.current.is_day,{country:p}=e.location,{name:h}=e.location;return{condition:t,feelTemp:n,humidity:c,precip:i,pressure:d,temp:o,uvIndex:r,visibility:s,windDegree:a,windDir:l,windVel:m,day:u,country:p,name:h}}(await e.json())}catch(t){console.log(t),e(document.getElementById("content"))}return null}(c);d.then((t=>{t&&(console.log(t),function(t){const n=document.getElementById("content");e(n);const c=document.createElement("div");c.classList.add("main-info");const i=document.createElement("div"),d=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div");d.textContent=t.name,o.textContent=t.condition,r.textContent=t.temp,r.textContent+="ยบ",c.append(i,d,o,r);const s=document.createElement("div");s.classList.add("secondary-info"),i.classList.add("img"),t.condition.toLowerCase().split(" ").forEach((e=>{i.classList.add(e)}));const a=t.day?"day":"night";i.classList.add(a);const l=`${t.humidity} %`,m=`${t.feelTemp} ยบC`,u=`${t.precip} %`,p=`${t.visibility} km`,h=`${t.pressure} hPa`,{uvIndex:y}=t,v=`${t.windVel} km/h ${t.windDegree}ยบ ${t.windDir}`,f=["Humidity","Percieved temperature","Chance of precipitation","Visibility","Pressure","UV index","Wind"];[l,m,u,p,h,y,v].forEach(((e,t)=>{const n=document.createElement("div"),c=document.createElement("span"),i=document.createElement("span");c.classList.add("title"),i.classList.add("value");const d=document.createElement("hr");d.classList.add("rounded"),n.classList.add("info"),c.textContent=f[t],i.textContent=e,n.append(c,i),s.appendChild(d),s.appendChild(n)})),n.appendChild(c),n.appendChild(s)}(t))})),t.preventDefault()}))}()})();